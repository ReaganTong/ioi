<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:mobile_app.ViewModels"
             x:Class="mobile_app.Views.LessonsPage"
             x:Name="lessonsPage"
             Title="Educational Hub">

    <ScrollView>
        <VerticalStackLayout Spacing="0" Padding="0,0,0,20">

            <Label Text="Types of Bullying" 
                   FontSize="24" 
                   FontAttributes="Bold" 
                   Margin="20, 20, 20, 5" 
                   TextColor="{StaticResource TextColor}" />

            <Label Text="Educate yourself and recognize bullying behaviours."
                   FontSize="14"
                   Margin="20, 0, 20, 15" 
                   TextColor="{StaticResource Gray600}" />

            <VerticalStackLayout BindableLayout.ItemsSource="{Binding Lessons}" Spacing="10" Margin="10,0">
                <BindableLayout.ItemTemplate>
                    <DataTemplate>
                        <Frame Style="{StaticResource CardFrameStyle}" 
                               BackgroundColor="{Binding Color}"
                               Padding="0"
                               HeightRequest="100">

                            <Frame.GestureRecognizers>
                                <TapGestureRecognizer 
                                    Command="{Binding BindingContext.GoToDetailsCommand, Source={x:Reference lessonsPage}}"
                                    CommandParameter="{Binding .}" />
                            </Frame.GestureRecognizers>

                            <Grid ColumnDefinitions="70, *" Padding="15">
                                <Label Text="{Binding Icon}" FontSize="40" VerticalOptions="Center" HorizontalOptions="Center" />
                                <VerticalStackLayout Grid.Column="1" VerticalOptions="Center" Spacing="2">
                                    <Label Text="{Binding Title}" FontAttributes="Bold" FontSize="18" TextColor="White" />
                                    <Label Text="{Binding ShortDescription}" FontSize="13" TextColor="#F0F0F0" />
                                </VerticalStackLayout>
                            </Grid>
                        </Frame>
                    </DataTemplate>
                </BindableLayout.ItemTemplate>
            </VerticalStackLayout>

            <Label Text="Practice Quizzes" 
                   FontSize="24" 
                   FontAttributes="Bold" 
                   Margin="20, 30, 20, 5" 
                   TextColor="{StaticResource TextColor}" />

            <Label Text="Test your knowledge and earn badges."
                   FontSize="14"
                   Margin="20, 0, 20, 15" 
                   TextColor="{StaticResource Gray600}" />

            <VerticalStackLayout BindableLayout.ItemsSource="{Binding Quizzes}" Spacing="10" Margin="10,0">
                <BindableLayout.ItemTemplate>
                    <DataTemplate>
                        <Frame Style="{StaticResource CardFrameStyle}" 
                               BackgroundColor="{Binding Color}"
                               Padding="0"
                               HeightRequest="100">

                            <Frame.GestureRecognizers>
                                <TapGestureRecognizer 
                                    Command="{Binding BindingContext.PlayQuizCommand, Source={x:Reference lessonsPage}}"
                                    CommandParameter="{Binding .}" />
                            </Frame.GestureRecognizers>

                            <Grid ColumnDefinitions="70, *" Padding="15">
                                <Label Text="❓" FontSize="30" VerticalOptions="Center" HorizontalOptions="Center" />
                                <VerticalStackLayout Grid.Column="1" VerticalOptions="Center" Spacing="2">
                                    <Label Text="{Binding Title}" FontAttributes="Bold" FontSize="18" TextColor="White" />
                                    <Label Text="{Binding Description}" FontSize="13" TextColor="#F0F0F0" />
                                </VerticalStackLayout>
                            </Grid>
                        </Frame>
                    </DataTemplate>
                </BindableLayout.ItemTemplate>
            </VerticalStackLayout>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>